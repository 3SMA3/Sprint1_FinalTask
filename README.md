# Сервис подсчёта арифметических выражений
## О проекте
Веб-сервис: пользователь отправляет арифметическое выражение по протоколу HTTP и получает в ответ его результат. Калькулятор обрабатывает только однозначные числа, скобки вида '(' ')' и арифметические операции:
1) Сложение (+)
2) Вычитание (-)
3) Умножение (*)
4) Деление (/)

В случае с неоднозначными числами и арифметическими операциями, не входящими в этот список, сервис выдаст ошибку: {«ошибка»: «Выражение неверно»}

Не обрабатываются отрицательные числа.

Также веб-сервис не обрабатывает выражения, содержащие символы английского, русского или других языков.

Обработка выражений с пробелами производится корректно.
## Технологии и библиотеки
Веб-сервис написан на языке Go и использует следующие библиотеки и инструменты:

Язык программирования:
* **Go** (версия 1.23.2)
### Основные библиотеки:
* **`net/http:`** Базовый HTTP-сервер для обработки запросов.
* **`errors:`** Библиотека для работы с ошибками.
* **`io:`** Базовые интерфейсы для работы с вводом и выводом.
* **`bytes:`** Утилиты для работы с байтовыми срезами.
* **`encoding/json:`** Кодирование и декодирование JSON.
* **`fmt:`** Форматированный ввод/вывод.
* **`net/http/httptest:`** Инструменты для тестирования HTTP-серверов и клиентов.
* **`testing:`** Предоставляет инструменты для написания и организации модульных, интеграционных и нагрузочных тестов.
* **`strings:`** Утилиты для работы со строками.
* **`strconv:`** Преобразование строк в числа, булевые значения и обратно.
* **`unicode:`** Работа с символами Unicode.
* **`os:`** Работа с операционной системой.
## Архитектура проекта
* **`cmd/`**
  * **`main.go`**
* **`internal/`**
  * **`application/`**
* **`pkg/`**
  * **`calculation/`**
    * **`calculation.go`**
    * **`errors.go`**
    * **`calculation_test.go`**
## Быстрый старт
Для начала нужно склонировать репозиторий командой

  ```
git clone git@github.com:3SMA3/Sprint1_FinalTask.git
  ```

После этого вам нужно перейти в папку с проектом

  ```
  cd Sprint1_FinalTask
  ```
Теперь вы можете запустить проект , но для этого нужно чтобы был установлен Go версии 1.23.2

Команда для запуска проекта
```
go run ./cmd/main.go
```
Для прекращения работы можете нажать сочетание клавиш Ctrl+C
## Примеры использования со всеми возможными сценариями
После запуска проекта вы можете отправлять cURL-запросы к сервису:

Так как в терминале Windows не обрабатываются cURL запросы я использовал git bash.

Следует отметить, что мой веб-сервис использует порт 4040

cURL команда с ответом сервиса 200:
```go
 curl --location '127.0.0.1:4040/api/v1/calculate' --header 'Content-Type: application/json' --data '{
  "expression": "2+2*2"
}'
```
Ответ:
```
{"result":"6.00000000"}
```
cURL команда с ответом сервиса 400:
```
curl --location '127.0.0.1:4040/api/v1/calculate' --header 'Content-Type: application/json' --data '{
  "expression": "2+2*2
}'
```
Ответ:
```
{"error":"Bad request"}
```
cURL команда с ответом сервиса 405:
```
curl --request GET \ --url '127.0.0.1:4040/api/v1/calculate' --header 'Content-Type: application/json' --data '{
  "expression": "2+2*2"
}'
```
Ответ:
```
{"error":"You can use only POST method"}
```
cURL команда с ответом сервиса 422:
```
curl --location '127.0.0.1:4040/api/v1/calculate' --header 'Content-Type: application/json' --data '{
  "expression": "2+2*2)"
}'
```
Ответ:
```
{"error":"Expression is not valid"}
```
Также команда cURL с ответом сервиса 422, где вы пытаетесь разделить на 0:
```
curl --location '127.0.0.1:4040/api/v1/calculate' --header 'Content-Type: application/json' --data '{
  "expression": "(2+2*2)/0"
}'
```
Ответ:
```
{"error":"You can't divide by zero"}
```
Всё решение там:
[Sprint1_FinalTask-main.zip](https://github.com/user-attachments/files/18223322/Sprint1_FinalTask-main.zip)
